@import 'tailwindcss';
@import './app/theme/primeng-overrides.css';

/* ═══════════════════════════════════════════════
   Tailwind v4 CSS-first config
   ═══════════════════════════════════════════════ */
@theme {
  --color-primary-green: #7ed321;
  --color-primary-blue: #1b75bc;
  --color-primary-dark: #0a2540;
  --color-secondary-green-light: #e8f5e9;
  --color-secondary-blue-light: #e3f2fd;
  --font-sans: 'Inter', 'Roboto', sans-serif;
}

/* ═══════════════════════════════════════════════
   Design tokens (light)
   ═══════════════════════════════════════════════ */
:root,
:root[data-theme='light'] {
  color-scheme: light;

  --v-bg-page: #f4f4f5;
  --v-bg-card: #ffffff;
  --v-bg-elevated: #fafafa;
  --v-bg-soft: #f1f5f9;

  --v-text-primary: #09090b;
  --v-text-secondary: #3f3f46;
  --v-text-muted: #71717a;

  --v-border: #e4e4e7;
  --v-border-strong: #d4d4d8;

  --v-shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08);
  --v-shadow-popover: 0 15px 35px rgba(15, 23, 42, 0.15);

  --state-success: #16a34a;
  --state-success-soft: rgba(34, 197, 94, 0.12);
  --state-warning: #f59e0b;
  --state-warning-soft: rgba(245, 158, 11, 0.15);
  --state-danger: #ef4444;
  --state-danger-soft: rgba(239, 68, 68, 0.12);
  --state-info: #2563eb;
  --state-info-soft: rgba(37, 99, 235, 0.12);

  --v-overlay: rgba(9, 9, 11, 0.55);
  --v-focus-ring: 0 0 0 3px rgba(37, 99, 235, 0.25);
}

/* ═══════════════════════════════════════════════
   Design tokens (dark)
   ═══════════════════════════════════════════════ */
.dark,
:root[data-theme='dark'] {
  color-scheme: dark;

  --v-bg-page: #09090b;
  --v-bg-card: #18181b;
  --v-bg-elevated: #27272a;
  --v-bg-soft: #1f1f22;

  --v-text-primary: #fafafa;
  --v-text-secondary: #d4d4d8;
  --v-text-muted: #a1a1aa;

  --v-border: #27272a;
  --v-border-strong: #3f3f46;

  --v-shadow-card: 0 1px 3px rgba(0, 0, 0, 0.4);
  --v-shadow-popover: 0 20px 45px rgba(0, 0, 0, 0.45);

  --state-success: #22c55e;
  --state-success-soft: rgba(34, 197, 94, 0.2);
  --state-warning: #fbbf24;
  --state-warning-soft: rgba(251, 191, 36, 0.22);
  --state-danger: #f87171;
  --state-danger-soft: rgba(248, 113, 113, 0.2);
  --state-info: #60a5fa;
  --state-info-soft: rgba(96, 165, 250, 0.2);

  --v-overlay: rgba(0, 0, 0, 0.65);
  --v-focus-ring: 0 0 0 3px rgba(96, 165, 250, 0.25);
}

/* ═══════════════════════════════════════════════
   Reset & Global
   ═══════════════════════════════════════════════ */
html,
body {
  height: 100%;
}

body {
  font-family: var(--font-sans);
  background-color: var(--v-bg-page);
  color: var(--v-text-secondary);
  transition:
    background-color 200ms,
    color 200ms;
}

@layer utilities {
  .bg-surface {
    background-color: var(--v-bg-card);
  }

  .bg-elevated {
    background-color: var(--v-bg-elevated);
  }

  .bg-soft {
    background-color: var(--v-bg-soft);
  }

  .text-on-surface {
    color: var(--v-text-primary);
  }

  .text-subtle {
    color: var(--v-text-muted);
  }

  .border-card {
    border-color: var(--v-border);
  }

  .border-card-strong {
    border-color: var(--v-border-strong);
  }

  .shadow-card {
    box-shadow: var(--v-shadow-card);
  }

  .shadow-popover {
    box-shadow: var(--v-shadow-popover);
  }

  .focus-ring {
    box-shadow: var(--v-focus-ring);
  }
}

/* ═══════════════════════════════════════════════
   Layout utilities (page-header, page-content)
   ═══════════════════════════════════════════════ */
.v-page-header {
  background: var(--v-bg-card);
  border-bottom: 1px solid var(--v-border);
  padding: 1.5rem 2rem;
}
.v-page-header h1 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--v-text-primary);
  margin: 0 0 0.25rem;
}
.v-page-header p {
  font-size: 0.875rem;
  color: var(--v-text-muted);
  margin: 0;
}

.v-page-content {
  padding: 1.5rem 2rem;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

/* Badge utilitária para estados urgentes */
.v-urgent-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  padding: 0.125rem 0.375rem;
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.3px;
  text-transform: uppercase;
  border-radius: 999px;
  background: var(--state-danger);
  color: #fff;
  line-height: 1.2;
}

/* ═══════════════════════════════════════════════
   Card / Panel pattern
   ═══════════════════════════════════════════════ */
.v-card {
  background: var(--v-bg-card);
  border: 1px solid var(--v-border);
  border-radius: 8px;
  box-shadow: var(--v-shadow-card);
}
.v-card-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.875rem 1.25rem;
  border-bottom: 1px solid var(--v-border);
}
.v-card-header i {
  font-size: 1rem;
  color: var(--v-text-muted);
}
.v-card-header h2 {
  margin: 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--v-text-primary);
}
.v-card-body {
  padding: 1.25rem;
}
.v-card-footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  border-top: 1px solid var(--v-border);
  background: var(--v-bg-elevated);
  border-radius: 0 0 8px 8px;
}

/* ═══════════════════════════════════════════════
   Form layout — row-based system
   ═══════════════════════════════════════════════
   Usage:
     <div class="v-form">
       <div class="v-form-row cols-3">
         <div class="v-field">…</div>
         <div class="v-field">…</div>
         <div class="v-field">…</div>
       </div>
     </div>
   Variants: cols-1, cols-2, cols-3, cols-4
   ═══════════════════════════════════════════════ */
.v-form {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}
.v-form-row {
  display: grid;
  gap: 1rem;
}
.v-form-row.cols-1 {
  grid-template-columns: 1fr;
}
.v-form-row.cols-2 {
  grid-template-columns: repeat(2, 1fr);
}
.v-form-row.cols-3 {
  grid-template-columns: repeat(3, 1fr);
}
.v-form-row.cols-4 {
  grid-template-columns: repeat(4, 1fr);
}

.v-field {
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
}
.v-field > label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: var(--v-text-muted);
}
.v-field input,
.v-field textarea {
  width: 100%;
}

@media (max-width: 768px) {
  .v-form-row.cols-2,
  .v-form-row.cols-3,
  .v-form-row.cols-4 {
    grid-template-columns: 1fr;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .v-form-row.cols-3,
  .v-form-row.cols-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ═══════════════════════════════════════════════
   PrimeNG compact overrides
   ═══════════════════════════════════════════════ */
.p-datatable-sm .p-datatable-thead > tr > th {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  padding: 0.5rem 0.625rem;
}

.p-datatable-sm .p-datatable-tbody > tr > td {
  font-size: 0.775rem;
  padding: 0.375rem 0.625rem;
  line-height: 1.3;
}

.p-datatable-sm .p-datatable-thead > tr:last-child > th {
  padding: 0.25rem 0.625rem;
}

.p-multiselect-filter {
  font-size: 0.8125rem !important;
  padding: 0.375rem 2rem 0.375rem 0.625rem !important;
}
