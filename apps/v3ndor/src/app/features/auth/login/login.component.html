<div class="login-page">
  <div class="login-card">
    <!-- Header -->
    <div class="login-header">
      <div class="logo-icon">
        <i class="pi pi-bolt"></i>
      </div>
      <h1>V3ndor</h1>
      <p>Faça login para continuar</p>
    </div>

    <!-- Form -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      @if (errorMessage()) {
      <div class="error-banner">
        <i class="pi pi-exclamation-circle"></i>
        <span>{{ errorMessage() }}</span>
      </div>
      }

      <div class="field">
        <label for="email">Email</label>
        <div class="input-wrapper">
          <i class="pi pi-envelope"></i>
          <input id="email" type="email" formControlName="email" placeholder="seu@email.com"
            [class.invalid]="emailControl?.invalid && emailControl?.touched" />
        </div>
        @if (emailControl?.invalid && emailControl?.touched) {
        <small class="field-error">
          @if (emailControl?.errors?.['required']) {
          Email é obrigatório
          } @else if (emailControl?.errors?.['email']) {
          Email inválido
          }
        </small>
        }
      </div>

      <div class="field">
        <label for="password">Senha</label>
        <div class="input-wrapper">
          <i class="pi pi-lock"></i>
          <input id="password" [type]="showPassword() ? 'text' : 'password'" formControlName="password"
            placeholder="Sua senha" [class.invalid]="passwordControl?.invalid && passwordControl?.touched" />
          <button type="button" class="toggle-password" (click)="togglePassword()" tabindex="-1">
            <i [class]="showPassword() ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
          </button>
        </div>
        @if (passwordControl?.invalid && passwordControl?.touched) {
        <small class="field-error">
          @if (passwordControl?.errors?.['required']) {
          Senha é obrigatória
          } @else if (passwordControl?.errors?.['minlength']) {
          Mínimo 6 caracteres
          }
        </small>
        }
      </div>

      <button type="submit" class="btn-login" [disabled]="loading()">
        @if (loading()) {
        <i class="pi pi-spinner pi-spin"></i>
        <span>Entrando...</span>
        } @else {
        <span>Entrar</span>
        <i class="pi pi-arrow-right"></i>
        }
      </button>
    </form>

    <!-- Footer -->
    <div class="login-footer">
      <p>Usuários de teste</p>
      <div class="test-users">
        <code>admin&#64;v3ndor.com</code>
        <code>user&#64;v3ndor.com</code>
        <code>dev&#64;v3ndor.com</code>
      </div>
      <p class="password-hint">Senha: <code>123456</code></p>
    </div>
  </div>
</div>